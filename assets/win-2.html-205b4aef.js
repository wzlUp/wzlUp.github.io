import{_ as a,p as e,q as t,s,R as n,Y as o}from"./framework-e1bed10d.js";const i={},l=s("div",{class:"custom-container tip"},[s("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[s("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("circle",{cx:"12",cy:"12",r:"9"}),s("path",{d:"M12 8h.01"}),s("path",{d:"M11 12h1v4h1"})])]),s("p",{class:"custom-container-title"},"文章简介"),s("p",null,[n("在windows环境下不使用Tomcat服务器，而是直接使用 jar包 运行程序，那么常用的就是"),s("code",null,"查看状态"),n("、"),s("code",null,"启动程序"),n("、"),s("code",null,"关闭程序"),n("等三个操作。")]),s("p",null,"经过多次实践，我是通过编写了三个自定义的bat文件，对jar包的运行状态、启动程序和关闭程序进行运维的，那么下来看下具体怎么使用的。")],-1),p=o(`<p>这是我经过多次优化后定型的bat文件代码，初始版本的代码，没有进行端口号的判断，而是把所有运行的 <code>jar程序</code> 全部杀死，当服务器运行多个 <code>jar程序</code> 时就会误杀，所以优化了 <em><strong>针对端口号</strong></em> 进行关闭线程。</p><h2 id="一、查看-jar-运行状态" tabindex="-1"><a class="header-anchor" href="#一、查看-jar-运行状态" aria-hidden="true">#</a> 一、查看 jar 运行状态</h2><p><strong>jar-status.bat 文件代码</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>@echo off
setlocal enabledelayedexpansion
<span class="token keyword">for</span> /f <span class="token string">&quot;tokens=1-5&quot;</span> %%a <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token string">&#39;netstat -ano ^| find &quot;8080&quot;&#39;</span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token punctuation">(</span>
    <span class="token keyword">if</span> <span class="token string">&quot;%%e%&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">(</span>
        <span class="token builtin class-name">set</span> <span class="token assign-left variable">pid</span><span class="token operator">=</span>%%d
    <span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">(</span>
        <span class="token builtin class-name">set</span> <span class="token assign-left variable">pid</span><span class="token operator">=</span>%%e
    <span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token operator">!</span>pid<span class="token operator">!</span>
<span class="token punctuation">)</span>
pause
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、启动-jar-程序" tabindex="-1"><a class="header-anchor" href="#二、启动-jar-程序" aria-hidden="true">#</a> 二、启动 jar 程序</h2><p><strong>jar-start.bat 文件代码</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>@echo off
start javaw <span class="token parameter variable">-jar</span> manage-admin.jar
pause
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、关闭-jar-程序" tabindex="-1"><a class="header-anchor" href="#三、关闭-jar-程序" aria-hidden="true">#</a> 三、关闭 jar 程序</h2><p><strong>jar-stop.bat 文件代码</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>@echo off
setlocal enabledelayedexpansion
<span class="token keyword">for</span> /f <span class="token string">&quot;tokens=1-5&quot;</span> %%a <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token string">&#39;netstat -ano ^| find &quot;8080&quot;&#39;</span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token punctuation">(</span>
    <span class="token keyword">if</span> <span class="token string">&quot;%%e%&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">(</span>
        <span class="token builtin class-name">set</span> <span class="token assign-left variable">pid</span><span class="token operator">=</span>%%d
    <span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">(</span>
        <span class="token builtin class-name">set</span> <span class="token assign-left variable">pid</span><span class="token operator">=</span>%%e
    <span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token operator">!</span>pid<span class="token operator">!</span>
    taskkill /f /pid <span class="token operator">!</span>pid<span class="token operator">!</span>
<span class="token punctuation">)</span>
pause
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10),c=[l,p];function r(d,u){return e(),t("div",null,c)}const v=a(i,[["render",r],["__file","win-2.html.vue"]]);export{v as default};
